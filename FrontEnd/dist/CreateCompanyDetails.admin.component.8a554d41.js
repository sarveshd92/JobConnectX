var e=globalThis.parcelRequire10c2;(0,e.register)("6hqnW",function(l,t){Object.defineProperty(l.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(l.exports,"default",{get:()=>m,set:void 0,enumerable:!0,configurable:!0});var a=e("ayMG0"),s=e("fmRoT"),i=e("acw62"),n=e("lzNIT"),r=e("aphAM"),o=e("7jD0c"),c=e("9KNE7"),d=e("KEprG"),m=()=>{let{compid:e}=(0,r.useParams)(),{company:l}=(0,o.useSelector)(e=>e.companySlice),t=(0,n.useNavigate)(),[m,u]=(0,i.useState)({name:l?.company||"",description:l?.description||"",website:l?.website||"",location:l?.location||"",logo:l?.logo||""}),p=e=>{u({...m,logo:e.target.files[0]})},x=async()=>{try{let l=await s.default.get(`http://localhost:8000/api/v1/company/getcompany/${e}`);u(l?.data?.getcomapany)}catch(e){console.log(e)}};(0,i.useEffect)(()=>{x()},[u]);let g=e=>{let{name:l,value:t}=e.target;u({...m,[l]:t})},f=(0,o.useDispatch)(),{loading:h}=(0,o.useSelector)(e=>e.auth),b=async l=>{l.preventDefault();try{f((0,d.setloading)(!0)),console.log("final ",m.logo);let l=await s.default.put(`http://localhost:8000/api/v1/company/update/details/${e}`,m,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});l&&(c.toast.success(l?.message),t("/admin/companies"))}catch(e){console.log(e)}finally{f((0,d.setloading)(!1))}};return(0,a.jsx)("div",{className:"flex justify-center items-center p-4",style:{width:"auto",maxWidth:"100%"},children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6 p-4 rounded-lg",children:[(0,a.jsx)("h1",{className:"text-2xl font-medium mb-6 text-center",children:"Company Setup"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"flex items-center w-1/2 pr-2",children:[(0,a.jsx)("label",{className:"w-1/3",children:"Name"}),(0,a.jsx)("input",{value:m?.name,name:"name",className:"border-2 ml-2 border-black px-2 py-1 rounded-lg w-full",type:"text",required:!0,onChange:g})]}),(0,a.jsxs)("div",{className:"flex items-center w-1/2 pl-2",children:[(0,a.jsx)("label",{className:"w-1/3",children:"Description"}),(0,a.jsx)("input",{value:m?.description,className:"border-2 border-black ml-2 px-2 py-1 rounded-lg w-full",type:"text",required:!0,name:"description",onChange:g})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"flex items-center w-1/2 pr-2",children:[(0,a.jsx)("label",{className:"w-1/3",children:"Location"}),(0,a.jsx)("input",{value:m?.location,className:"border-2 ml-2 border-black px-2 py-1 rounded-lg w-full",type:"text",required:!0,name:"location",onChange:g})]}),(0,a.jsxs)("div",{className:"flex items-center w-1/2 pl-2",children:[(0,a.jsx)("label",{className:"w-1/3",children:"Website"}),(0,a.jsx)("input",{value:m?.website,className:"border-2 ml-2 border-black px-2 py-1 rounded-lg w-full",type:"text",required:!0,name:"website",onChange:g})]})]}),(0,a.jsxs)("div",{className:"flex justify-start items-center w-full mt-6",children:[(0,a.jsx)("label",{className:"w-1/4 text-sm font-medium text-gray-900",htmlFor:"file_input",children:"Logo"}),(0,a.jsx)("div",{className:"flex items-center w-full",children:m?.logo&&"string"==typeof m.logo?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{src:m.logo,alt:"Company Logo",className:"w-10 h-10 object-contain rounded-lg mr-4"}),(0,a.jsxs)("label",{className:"cursor-pointer bg-gray-800 text-white py-1 px-3 rounded-lg",children:["Update Logo",(0,a.jsx)("input",{className:"hidden",id:"file_input",type:"file",name:"logo",onChange:p})]})]}):(0,a.jsx)("input",{className:"border-2 ml-2 border-black px-2 py-1 rounded-lg w-full cursor-pointer bg-gray-50",id:"file_input",type:"file",name:"logo",onChange:p,required:!0})})]})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:h?(0,a.jsx)("button",{disabled:!0,type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5",children:"Loading..."}):(0,a.jsx)("button",{type:"submit",className:"text-white bg-gray-800 hover:bg-gray-900 font-medium rounded-lg text-sm px-5 py-2.5",children:"Update"})})]})})})}});
//# sourceMappingURL=CreateCompanyDetails.admin.component.8a554d41.js.map

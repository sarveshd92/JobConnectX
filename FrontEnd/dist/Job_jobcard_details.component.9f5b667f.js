var e=globalThis.parcelRequire10c2;(0,e.register)("7UYw3",function(s,a){Object.defineProperty(s.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(s.exports,"default",{get:()=>c,set:void 0,enumerable:!0,configurable:!0});var t=e("ayMG0"),l=e("fmRoT"),i=e("acw62"),o=e("7jD0c"),n=e("aphAM"),d=e("9KNE7"),r=e("iClEJ"),c=()=>{let e=(0,o.useDispatch)(),{jobid:s}=(0,n.useParams)();console.log("Job ID:",s);let[a,c]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),h=async()=>{try{let a=await l.default.get(`http://localhost:8000/api/v1/job/getjobbyid/${s}`,{withCredentials:!0}),t=await l.default.post("http://localhost:8000/api/v1/job/appliedjobstatus",{jobid:s},{withCredentials:!0});if(t?.data?.result?.application.length>0){m(!0);let s=await l.default.get("http://localhost:8000/api/v1/application/appliedjobs",{withCredentials:!0});e((0,r.addapplication)(s.data.result))}else m(!1);a?.data?.success?(c(a?.data?.result),d.toast.success(a?.data?.message)):d.toast.error(a?.data?.message)}catch(e){d.toast.error("Session expired. Please log in again.")}},x=async e=>{e.preventDefault();try{console.log("Applying for job...");let e=await l.default.post(`http://localhost:8000/api/v1/application/applyjob/${s}`,{},{headers:{"Content-Type":"application/json"},withCredentials:!0});e.data.success?(m(!0),d.toast.success(e.data.message)):d.toast.error("Something Went Wrong please login again")}catch(e){d.toast.error("Something Went Wrong please login again")}};return(0,i.useEffect)(()=>{h()},[p]),(0,t.jsx)("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:a.title}),(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"w-8 h-8 rounded-md border-2 border-gray-200 object-contain ",src:`${a?.company?.logo}`,alt:"Company Logo"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"ml-2 text-xl font-semibold",children:a?.company?.name}),(0,t.jsx)("h3",{className:"ml-2 text-gray-600",children:a.location})]})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:a.description}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Requirements:"}),(0,t.jsx)("ul",{className:"list-disc list-inside ml-4",children:a.requirement.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Job Type:"}),(0,t.jsx)("p",{children:a.jobType})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Experience Required:"}),(0,t.jsxs)("p",{children:[a.experience," years"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Salary:"}),(0,t.jsxs)("p",{children:[a.salary," LPA"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Number of Positions:"}),(0,t.jsx)("p",{children:a.noofposition})]}),p?(0,t.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md",disabled:!0,children:"Applied"}):(0,t.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md",onClick:x,children:"Apply Now"})]}):(0,t.jsx)("p",{children:"Loading job details..."})})}});
//# sourceMappingURL=Job_jobcard_details.component.9f5b667f.js.map

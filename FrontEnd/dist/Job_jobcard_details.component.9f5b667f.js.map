{"mappings":"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","sources":["<anon>","Components/Job_jobcard_details.component.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"7UYw3\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $5c3cb494d0445b06$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $fmRoT = parcelRequire(\"fmRoT\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $7jD0c = parcelRequire(\"7jD0c\");\n\nvar $aphAM = parcelRequire(\"aphAM\");\n\nvar $9KNE7 = parcelRequire(\"9KNE7\");\n\nvar $iClEJ = parcelRequire(\"iClEJ\");\nconst $5c3cb494d0445b06$var$JobJobcardDetails = ()=>{\n    const dispatch = (0, $7jD0c.useDispatch)();\n    const { jobid: jobid } = (0, $aphAM.useParams)(); // Ensure jobid matches your backend route\n    console.log(\"Job ID:\", jobid);\n    // const{applications}=useSelector((store)=>store.applicationSlice)\n    const [jobDetails, setJobDetails] = (0, $acw62.useState)(null);\n    const [status, setStatus] = (0, $acw62.useState)(false);\n    const fetchdata = async ()=>{\n        try {\n            const data = await (0, $fmRoT.default).get(`http://localhost:8000/api/v1/job/getjobbyid/${jobid}`, {\n                withCredentials: true\n            });\n            const data1 = await (0, $fmRoT.default).post(`http://localhost:8000/api/v1/job/appliedjobstatus`, {\n                jobid: jobid\n            }, {\n                withCredentials: true\n            });\n            // console.log(\"data1->\", data1?.data?.result?.application);\n            if (data1?.data?.result?.application.length > 0) {\n                setStatus(true);\n                const application = await (0, $fmRoT.default).get(\"http://localhost:8000/api/v1/application/appliedjobs\", {\n                    withCredentials: true\n                });\n                dispatch((0, $iClEJ.addapplication)(application.data.result));\n            } else setStatus(false);\n            if (data?.data?.success) {\n                setJobDetails(data?.data?.result); // Store the job details\n                (0, $9KNE7.toast).success(data?.data?.message);\n            } else (0, $9KNE7.toast).error(data?.data?.message);\n        } catch (error) {\n            (0, $9KNE7.toast).error(\"Session expired. Please log in again.\");\n        }\n    };\n    const handleClick = async (e)=>{\n        e.preventDefault();\n        try {\n            console.log(\"Applying for job...\");\n            const result = await (0, $fmRoT.default).post(`http://localhost:8000/api/v1/application/applyjob/${jobid}`, {}, {\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                withCredentials: true\n            });\n            if (result.data.success) {\n                setStatus(true); // Update the status after successful application\n                (0, $9KNE7.toast).success(result.data.message);\n            } else (0, $9KNE7.toast).error(\"Something Went Wrong please login again\");\n        } catch (error) {\n            (0, $9KNE7.toast).error(\"Something Went Wrong please login again\");\n        }\n    };\n    (0, $acw62.useEffect)(()=>{\n        fetchdata();\n    }, [\n        status\n    ]); // Empty dependency array to ensure this runs only once\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md\",\n        children: jobDetails ? /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n            children: [\n                /*#__PURE__*/ (0, $ayMG0.jsx)(\"h1\", {\n                    className: \"text-3xl font-bold mb-4\",\n                    children: jobDetails.title\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"flex items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"img\", {\n                                className: \"w-8 h-8 rounded-md border-2 border-gray-200 object-contain \",\n                                src: `${jobDetails?.company?.logo}`,\n                                alt: \"Company Logo\"\n                            })\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                    className: \"ml-2 text-xl font-semibold\",\n                                    children: jobDetails?.company?.name\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                    className: \"ml-2 text-gray-600\",\n                                    children: jobDetails.location\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                    className: \"text-gray-600 mb-4\",\n                    children: jobDetails.description\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                            className: \"font-semibold\",\n                            children: \"Requirements:\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"ul\", {\n                            className: \"list-disc list-inside ml-4\",\n                            children: jobDetails.requirement.map((req, idx)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"li\", {\n                                    children: req\n                                }, idx))\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                            className: \"font-semibold\",\n                            children: \"Job Type:\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                            children: jobDetails.jobType\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                            className: \"font-semibold\",\n                            children: \"Experience Required:\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"p\", {\n                            children: [\n                                jobDetails.experience,\n                                \" years\"\n                            ]\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                            className: \"font-semibold\",\n                            children: \"Salary:\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"p\", {\n                            children: [\n                                jobDetails.salary,\n                                \" LPA\"\n                            ]\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                            className: \"font-semibold\",\n                            children: \"Number of Positions:\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                            children: jobDetails.noofposition\n                        })\n                    ]\n                }),\n                !status ? /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                    className: \"bg-blue-600 text-white px-4 py-2 rounded-md\",\n                    onClick: handleClick,\n                    children: \"Apply Now\"\n                }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                    className: \"bg-green-600 text-white px-4 py-2 rounded-md\",\n                    disabled: true,\n                    children: \"Applied\"\n                })\n            ]\n        }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n            children: \"Loading job details...\"\n        })\n    });\n};\nvar $5c3cb494d0445b06$export$2e2bcd8739ae039 = $5c3cb494d0445b06$var$JobJobcardDetails;\n\n});\n\n\n//# sourceMappingURL=Job_jobcard_details.component.9f5b667f.js.map\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport applicationSlice, { addapplication } from \"../Utils/Store/applicationSlice\";\r\n\r\nconst JobJobcardDetails = () => {\r\n\r\n\r\n  const dispatch=useDispatch()\r\n  const { jobid } = useParams();  // Ensure jobid matches your backend route\r\n  console.log(\"Job ID:\", jobid);\r\n// const{applications}=useSelector((store)=>store.applicationSlice)\r\n  const [jobDetails, setJobDetails] = useState(null);\r\n  const [status, setStatus] = useState(false);\r\n\r\n  const fetchdata = async () => {\r\n    try {\r\n      const data = await axios.get(\r\n        `http://localhost:8000/api/v1/job/getjobbyid/${jobid}`,\r\n        { withCredentials: true }\r\n      );\r\n\r\n      const data1 = await axios.post(\r\n        `http://localhost:8000/api/v1/job/appliedjobstatus`,\r\n        { jobid },\r\n        { withCredentials: true }\r\n      );\r\n      // console.log(\"data1->\", data1?.data?.result?.application);\r\n      if (data1?.data?.result?.application.length>0) {\r\n        setStatus(true);\r\n        const application = await axios.get(\"http://localhost:8000/api/v1/application/appliedjobs\", { withCredentials: true });\r\n        dispatch(addapplication(application.data.result));\r\n      } else {\r\n        setStatus(false);\r\n      }\r\n     \r\n      if (data?.data?.success) {\r\n        setJobDetails(data?.data?.result); // Store the job details\r\n        toast.success(data?.data?.message);\r\n      } else {\r\n        toast.error(data?.data?.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Session expired. Please log in again.\");\r\n    }\r\n  };\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      console.log(\"Applying for job...\");\r\n      const result = await axios.post(\r\n        `http://localhost:8000/api/v1/application/applyjob/${jobid}`,\r\n        {},\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          withCredentials: true, // Important for sending cookies\r\n        }\r\n      );\r\n  \r\n      if (result.data.success) {\r\n\r\n           \r\n        setStatus(true); // Update the status after successful application\r\n        toast.success(result.data.message);\r\n      }else {\r\n        toast.error(\"Something Went Wrong please login again\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Something Went Wrong please login again\" );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchdata();\r\n  }, [status]); // Empty dependency array to ensure this runs only once\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md\">\r\n      {jobDetails ? (\r\n        <>\r\n          <h1 className=\"text-3xl font-bold mb-4\">{jobDetails.title}</h1>\r\n          <div className=\"flex items-center mb-4\">\r\n          <div>\r\n          <img className=\"w-8 h-8 rounded-md border-2 border-gray-200 object-contain \" src= { `${jobDetails?.company?.logo}` }alt=\"Company Logo\" />\r\n        </div>\r\n            <div>\r\n              <h2 className=\"ml-2 text-xl font-semibold\">{jobDetails?.company?.name}</h2>\r\n              <h3 className=\"ml-2 text-gray-600\">{jobDetails.location}</h3>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 mb-4\">{jobDetails.description}</p>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold\">Requirements:</h3>\r\n            <ul className=\"list-disc list-inside ml-4\">\r\n              {jobDetails.requirement.map((req, idx) => (\r\n                <li key={idx}>{req}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold\">Job Type:</h3>\r\n            <p>{jobDetails.jobType}</p>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold\">Experience Required:</h3>\r\n            <p>{jobDetails.experience} years</p>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold\">Salary:</h3>\r\n            <p>{jobDetails.salary} LPA</p>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold\">Number of Positions:</h3>\r\n            <p>{jobDetails.noofposition}</p>\r\n          </div>\r\n          {!status ? (\r\n            <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md\" onClick={handleClick}>\r\n              Apply Now\r\n            </button>\r\n          ) : (\r\n            <button className=\"bg-green-600 text-white px-4 py-2 rounded-md\"  disabled>\r\n              Applied\r\n            </button>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <p>Loading job details...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobJobcardDetails;\r\n"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","Object","defineProperty","value","configurable","get","$5c3cb494d0445b06$export$2e2bcd8739ae039","set","s","enumerable","$ayMG0","$fmRoT","$acw62","$7jD0c","$aphAM","$9KNE7","$iClEJ","dispatch","useDispatch","jobid","useParams","console","log","jobDetails","setJobDetails","useState","status","setStatus","fetchdata","data","default","withCredentials","data1","post","result","application","length","addapplication","success","toast","message","error","handleClick","e","preventDefault","headers","useEffect","jsx","className","children","jsxs","Fragment","title","src","company","logo","alt","name","location","description","requirement","map","req","idx","jobType","experience","salary","noofposition","disabled","onClick"],"version":3,"file":"Job_jobcard_details.component.9f5b667f.js.map"}
var e=globalThis.parcelRequire10c2;(0,e.register)("7bxDP",function(t,r){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(t.exports,"default",{get:()=>o,set:void 0,enumerable:!0,configurable:!0});var s=e("ayMG0"),n=e("acw62"),l=e("aphAM"),a=e("73MNt"),o=()=>{let e=(0,n.useRef)(null),[t,r]=(0,n.useState)([]),[o,i]=(0,n.useState)(""),{recruiterId:u,status:c,userid:d,jobapplication_id:m}=(0,l.useParams)(),[x,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>(e.current=(0,a.io)("http://localhost:8000",{withCredentials:!0}),e.current.emit("join-room",d),e.current.on("previous-messages",e=>{r(e)}),e.current.on("user-typing",e=>{g(!0),setTimeout(()=>g(!1),2e3)}),e.current.on("receive-message",e=>{r(t=>[...t,{content:e,sender:"other"}])}),()=>{e.current.disconnect()}),[]);let p=()=>{""!==o.trim()&&(r(e=>[...e,{content:o,sender:"you"}]),console.log(d,o,d,u),e.current.emit("send-message",{room:d,message:o,senderId:d,receiverId:u}),i(""))};return(0,s.jsxs)("div",{className:"max-w-md w-full mx-auto p-4 min-h-screen flex flex-col",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-center",children:"\uD83D\uDCAC Simple Chat"}),(0,s.jsx)("div",{className:"flex-1 bg-gray-100 p-4 rounded-lg shadow-inner overflow-y-auto mb-4",style:{maxHeight:"400px",minHeight:"300px"},children:0===t.length?(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No messages yet."}):t.map((e,t)=>(0,s.jsx)("div",{className:`mb-2 flex ${e.senderId===d?"justify-end":"justify-start"}`,children:(0,s.jsx)("span",{className:`inline-block px-4 py-2 max-w-xs break-words rounded-lg text-sm ${e.senderId===d?"bg-blue-600 text-white":"bg-gray-300 text-gray-900"}`,children:e.content})},t))}),(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("input",{value:o,onChange:t=>{i(t.target.value),e.current&&e.current.emit("user-typing",d)},onKeyDown:e=>"Enter"===e.key&&p(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 transition",children:"Send"})]})]})}});
//# sourceMappingURL=ChatComponent.62c4b6b4.js.map

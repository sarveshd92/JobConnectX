var e=globalThis.parcelRequire10c2;(0,e.register)("gj5Sz",function(t,a){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(t.exports,"default",{get:()=>c,set:void 0,enumerable:!0,configurable:!0});var s=e("ayMG0"),l=e("fmRoT"),r=e("acw62"),i=e("lzNIT"),n=e("aphAM"),c=()=>{let[e,t]=(0,r.useState)([]),{jobid:a}=(0,n.useParams)(),c=(0,i.useNavigate)(),d=async()=>{try{let e=await l.default.get(`http://localhost:8000/api/v1/job/getjobbyid/${a}`,{withCredentials:!0});t(e.data.result||[])}catch(e){console.log("Error fetching companies:",e)}},o=async(e,a,s)=>{try{console.log(a,"->",s);let r=await l.default.put(`http://localhost:8000/api/v1/application/updatestatus/${a}`,{status:e,userid:s},{withCredentials:!0,headers:{"Content-Type":"application/json"}});t(t=>{let s=t.application.map(t=>t._id===a?{...t,status:e}:t);return{...t,application:s}}),console.log(r)}catch(e){console.error("Error updating status:",e)}},p=e=>{c(`/chat/${e}`)};return(0,r.useEffect)(()=>{d()},[]),console.log(e),(0,s.jsxs)("div",{className:"mt-4 p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:["Applicants (",e?.application?.length||"0",")"]}),(0,s.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg border border-gray-200",children:(0,s.jsxs)("table",{className:"w-full min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Full Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resume"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e?.application?.length?e.application.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e?.applicant?.fullname||"N/A"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e?.applicant?.email||"N/A"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e?.applicant?.phoneno||"N/A"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-500",children:(0,s.jsx)("a",{href:e?.applicant?.Profile?.resume,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e?.applicant?.Profile?.resume?`${e.applicant.fullname}_Pdf`:"Resume Not Uploaded"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e?.applicant?.createdAt?.substr(0,10)||"N/A"}),(0,s.jsx)("td",{className:"p-2",children:"Pending"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"m-2 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-2 focus:outline-none",onClick:()=>o("Selected",e._id,e?.applicant?._id),children:"Selected"}),(0,s.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 focus:outline-none",onClick:()=>o("Rejected",e._id,e?.applicant?._id),children:"Rejected"})]}):(0,s.jsx)("button",{className:"m-2 bg-gray-800 text-white rounded-lg p-2 focus:outline-none cursor-not-allowed opacity-50",disabled:!0,children:e.status})}),(0,s.jsxs)("td",{children:[" ",(0,s.jsxs)("button",{className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 focus:outline-none",onClick:()=>p(e?.applicant?._id),children:["\uD83D\uDCAC ",e?.applicant?._id]})]})]},t)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:"No applications for this job"})})})]})})]})}});
//# sourceMappingURL=Job_user_applications.admin.components.898f501f.js.map
